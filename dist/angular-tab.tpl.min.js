/**
 * angular-tab
 * @version v0.0.1 - 2014-04-04
 * @link https://github.com/ariesjia/angular-tab
 * @author Chenjia <ariesjia00@hotmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("quark.tab",["quark.tab.template","quark.tab.module"]),angular.module("quark.tab.template",["src/tab-set.html","src/tab.html"]),angular.module("src/tab-set.html",[]).run(["$templateCache",function(a){a.put("src/tab-set.html",'<div class="md-quark-tab">\n    <ul class="tab-hd" ng-transclude>\n    </ul>\n    <div class="tab-bd" nf-if="tabNeedUrl" ng-include="templateUrl">\n    </div>\n</div>')}]),angular.module("src/tab.html",[]).run(["$templateCache",function(a){a.put("src/tab.html",'<li ng-class="{active: selected}">\n    <a ng-click="select()" ng-transclude></a>\n</li>')}]),angular.module("quark.tab.module",[]).constant("quarkTabConfig",{}).factory("location",["$location","$route","$rootScope",function(a,b,c){return a.skipReload=function(){var d=b.current,e=c.$on("$locationChangeSuccess",function(){b.current=d,e()});return a},a}]).directive("quarkTabSet",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"src/tab-set.html",scope:{tabSkipReload:"=",tabLocationType:"@"},controller:["$scope",function(a){a.templateUrl="";var b=a.tabs=[];this.tabSkipReload=a.tabSkipReload,this.tabLocationType=a.tabLocationType,this.selectTab=function(a){return a.selected?!0:(angular.forEach(b,function(a){a.selected=!1}),a.selected=!0,this.setTabUrl(a.templateUrl),void 0)},this.setTabUrl=function(b){a.templateUrl=b},this.addTab=function(a){b.push(a)}}]}}).directive("quarkTab",["location",function(a){return{restrict:"EA",replace:!0,require:"^quarkTabSet",scope:{templateUrl:"@",tabMatch:"@",tabHref:"@"},transclude:!0,templateUrl:"src/tab.html",link:function(b,c,d,e){var f=e.tabLocationType||"path",g=function(b){return a[f](b)},h=g(),i=new RegExp(b.tabMatch);e.addTab(b),b.select=function(c){var d=c||b.tabHref;e.selectTab(b),g()!=d&&(!c&&e.tabSkipReload&&a.skipReload(),g(d).replace())},i.test(h)&&b.select(h)}}}]);